//----------------------------------------------------------------------------------
// MLU3D module definitions.
//
// \file    MLU3D.def
// \author  Axel Newe
// \date    2016-10-01
//----------------------------------------------------------------------------------

// Genres ----------------------------------------------------------------------

UserGenres {
  Genre PDF { 
    Genre U3DModules   { title = "U3D Modules" } 
  }
}

// Inspectors ---------------------------------------------------------------------

OutputInspector {
  type   = "MLBase.mlU3D::U3DObject"
  module = "U3DInspector"
  field  = "inU3DObject"
}

// U3D Modules ---------------------------------------------------------------------

MLModule U3DAddModelFromFiberSet {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Adds a model to a U3D."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DAddModelFromFiberSet.script
}

MLModule U3DAddModelFromMarkerList {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Adds a model to a U3D."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DAddModelFromMarkerList.script
}

MLModule U3DAddModelFromWEM {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Adds a model to a U3D."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DAddModelFromWEM.script
}

MLModule U3DAssemble {
  DLL                = "MLU3D"
  genre             = "U3DModules"
  author            = "Axel Newe"
  comment           = "Adds multiple models to a U3D."
  keywords          = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DAssembleExample.mlab"
  externalDefinition = $(LOCAL)/U3DAssemble.script
}

MLModule U3DGeometryToFiberSet {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Extracts U3D line set geometry data to FiberSet."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DGeometryToExample.mlab"
  externalDefinition = $(LOCAL)/U3DGeometryToFiberSet.script
}

MLModule U3DGeometryToWEM {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Extracts U3D mesh geometry data to WEM."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DGeometryToExample.mlab"
  externalDefinition = $(LOCAL)/U3DGeometryToWEM.script
}

MLModule U3DGeometryToXMarkerList {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Extracts U3D point set geometry data to XMarkerList."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DGeometryToExample.mlab"
  externalDefinition = $(LOCAL)/U3DGeometryToXMarkerList.script
}

MLModule U3DInit {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Initializes an empty U3D."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DInit.script
}

MLModule U3DInfo {
  DLL      = "MLU3D"
  genre    = "U3DModules"
  author   = "Axel Newe"
  comment  = "Provides info about a U3D."
  keywords = "PDF U3D"
  seeAlso  = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DInfo.script
}

MacroModule U3DInspector {
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Provides inspector for U3D objects."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DInspector.script
}

MLModule U3DLoad {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Loads a U3D from disk."
  keywords           = "PDF U3D"
  seeAlso            = ""
//exampleNetwork     = "$(LOCAL)/networks/U3DLoadExample.mlab"
  externalDefinition = $(LOCAL)/U3DLoad.script
}

/*
MLModule U3DManager {
DLL                = "MLU3D"
}
*/

MLModule U3DSave {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Saves a U3D to disk."
  keywords           = "PDF U3D"
  seeAlso            = ""
  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DSave.script
}

MLModule U3DSpecificationGenerator {
  DLL                = "MLU3D"
  genre              = "U3DModules"
  author             = "Axel Newe"
  comment            = "Creates specifications for models."
  keywords           = "PDF U3D"
  seeAlso            = ""
//  exampleNetwork     = "$(LOCAL)/networks/U3DExample.mlab"
  externalDefinition = $(LOCAL)/U3DSpecificationGenerator.script
}

// Legacy Modules --------------------------------------------------------------

MacroModule SaveU3D {
  genre              = "U3DModules"
  author             = "Axel Newe"
  status             = deprecated
  comment            = "This module is deprecated. Use U3DAssemble + U3DSave instead!"
  keywords           = "deprecated"
  seeAlso            = "U3DAssemble U3DSave"
  exampleNetwork     = "$(LOCAL)/networks/DEPRECATED_SaveU3DExample.mlab"
  externalDefinition = $(LOCAL)/DEPRECATED_SaveU3D.script
}

// Auxiliary Tool Modules ------------------------------------------------------

MLModule ListsToFibers {
  DLL                = "MLU3D"
  deprecatedName     = "PDFCreateFibersFromLists"
  genre              = ""
  author             = "Axel Newe"
  comment            = "Create fibers from positions list and connections list."
  keywords           = "PDF U3D"
  seeAlso            = ""
//  exampleNetwork     = "$(LOCAL)/networks/ListsToFibersExample.mlab"
  externalDefinition = $(LOCAL)/ListsToFibers.script
}

MLModule LoadPointLineGeometry {
  DLL                = "MLU3D"  
  genre              = ""
  author             = "Axel Newe"
  comment            = "Imports a marker list from txt/csv file."
  keywords           = "ListBase XMarker ColoredMarker IndexPairList"
  seeAlso            = "XMarkerListContainer ColoredMarkerListContainer MarkerListImport"
//  exampleNetwork     = "$(LOCAL)/networks/PDFFibersExample.mlab"
  externalDefinition = $(LOCAL)/LoadPointLineGeometry.script
}  

// About Extension -------------------------------------------------------------

MeVisAboutExtension = @@
<h3>MLU3D Library</h3>
<p>Library for creating Universal 3D (U3D) files according to the Standard ECMA-363.</p>
<p><b>Author:</b> Axel Newe, <a href="mailto:axel.newe@fau.de">axel.newe@fau.de</a><br/>
<b>License:</b> <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a></p>
<p>If you are using this library for scientific purposes, please cite the following work:</p>
<p>&#8226; Newe A (2015). Towards an easier creation of three-dimensional data for embedding into scholarly 3D PDF (Portable Document Format) files. PeerJ 3: e794; DOI: <a href="http://dx.doi.org/10.7717/peerj.794">10.7717/peerj.794</a>. PMID: <a href="http://www.ncbi.nlm.nih.gov/pubmed/25780759">25780759</a>.<br/>
&#8226; Newe A (2016). Enriching scientific publications with interactive 3D PDF: An integrated toolbox for creating ready-to-publish figures. PeerJ Computer Science 2: e64; DOI: <a href="http://dx.doi.org/10.7717/peerj-cs.64">10.7717/peerj-cs.64</a>.
</p>
@@
