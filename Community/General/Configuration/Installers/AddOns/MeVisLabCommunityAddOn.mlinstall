#---------------------------------------------------------------------
# MeVisLabCommunityAddOn Installer
#---------------------------------------------------------------------

$PRODUCT MeVisLabCommunityAddOn

$DEBUG   1
$RELEASE 1

# make sure that header files contain correct header and that hidden sections are removed
#$PUBLIC_MEVISLAB 1

# enable detecting and copying of dependend DSOs to installer
#$MODULEDATABASETOOL 1

# change the default license text
$INPUT_LICENSE_TEXT $(MLAB_Community_General)/Configuration/Installers/AddOns/Resources/MeVisLabCommunityAddOnLicense.txt
 
#---------------------------------------------------------------------
# Default AddOn for MeVisLab installation

# Build PKG installer for Mac OS X
$INSTALLER_MACX_BUILDPKG         1
$INSTALLER_MACX_PKG_RELOCATABLE  1

$INSTALLER_LICENSE_PAGE 1

# this is required so that packages are rescanned!
$INSTALLER_RUN_MEVISLAB_INSTALL 1

# Include common components
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/Core/year.mli
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/Core/setup.mli
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/Core/exclude.mli
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/SDK/exclude.mli

# include the product definition of MeVisLab
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/SDK/MeVisLabProductDefinition.mli

# set the product for which we are an add on!
$INSTALLER_ADDON_FOR_PRODUCT MeVisLab
$INSTALLER_PRODUCT_KEY $(PRODUCT)$(MEVISLAB_VERSION)$(MLAB_COMPILER_VERSION)

# take over product definition, to allow addon installation in MeVisLab
$INSTALLER_ADDON_FOR_PRODUCT_TITLE       $(MEVISLAB_INSTALLER_PRODUCT_TITLE)
$INSTALLER_ADDON_FOR_PRODUCT_MENU        $(MEVISLAB_INSTALLER_PRODUCT_MENU)
$INSTALLER_ADDON_FOR_PRODUCT_KEY         $(MEVISLAB_INSTALLER_PRODUCT_KEY)
$INSTALLER_ADDON_FOR_PRODUCT_INSTALLDIR  $(MEVISLAB_INSTALLER_PRODUCT_INSTALLDIR)

# Include common components
#INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/SDK/modifyFilesForPublicRelease.mli
#INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/Core/signPackages.mli
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/AddOns/installerSetup.mli
#INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/Core/generateLicense.mli
INCLUDE $(MLAB_MeVis_Foundation)/Configuration/Installers/Shared/Core/generateInstaller.mli
#---------------------------------------------------------------------

# Collecting files for AddOn:
SWITCH_PACKAGE Community/General
+ Package.def
+ Modules

SWITCH_PACKAGE Community/ThirdParty
+ Package.def
#+ Modules
